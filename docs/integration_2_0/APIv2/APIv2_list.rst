API v2
###########

.. hint::
    All requests of the following API methods EDIN 2.0 platform should be sent at: https://edo-v2.edin.ua

Authorization
==============

+------------+-----------------------------+----------------------------------------------------------------------------------------------------------+
| **Method** |        **URL query**        |                                             **Description**                                              |
+============+=============================+==========================================================================================================+
| POST       | ``/api/authorization/hash`` | `Authorization <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/Authorization.html>`__      |
+------------+-----------------------------+----------------------------------------------------------------------------------------------------------+
| GET        | ``/api/auth_check``         | `Session activity check <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/AuthCheck.html>`__ |
+------------+-----------------------------+----------------------------------------------------------------------------------------------------------+

Work with directories
============================

+------------+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Method** |            **URL query**             |                                                                                      **Description**                                                                                       |
+============+======================================+============================================================================================================================================================================================+
| GET        | ``/api/oas/user``                    | `Obtaining information on the authorized user <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/OasUser.html>`__                                                               |
+------------+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/oas/account/users``           | `Obtaining information about all company users (at the account level) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/GetCompanyUsers.html>`__                               |
+------------+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/oas/account/identifiers``     | `Receiving information on GLN numbers associated with the authorized user (at the account level) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/AccountIdentifiers.html>`__ |
+------------+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/oas/retailers``               | `Obtaining a list of retail networks that are associated with a given GLN <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/OasRetailers.html>`__                              |
+------------+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/oas/retailer/identificators`` | `Obtaining a list of GLN numbers that are associated with a given retail network <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/RetailerIdentificators.html>`__             |
+------------+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/oas/allretailers``            | `Obtaining a list of all retail networks <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/Allretailers.html>`__                                                               |
+------------+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/oas/units``                   | `Obtaining a list of available units of measurement <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/OasUnits.html>`__                                                        |
+------------+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/oas/identifiers``             | `Obtaining information about the organization by Name / TIN / PPC / GLN <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/OasIdentifiers.html>`__                              |
+------------+--------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Work with documents
============================

+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Method** |          **URL query**           |                                                                      **Description**                                                                      |
+============+==================================+===========================================================================================================================================================+
| POST       | ``/api/v2/eds/doc``              | `Create a draft document <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/CreateDocumentV2.html>`__                                          |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH      | ``/api/eds/doc/send``            | `Drafts sending <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/SendDocument.html>`__                                                       |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST       | ``/api/eds/doc/create_and_send`` | `Send a document (without creating a draft) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/SendDocumentWithoutDraft.html>`__               |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST       | ``/api/eds/docs/search``         | `Document search (filtering), the selection list of documents <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/DocsSearch.html>`__           |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/eds/doc``                 | `Obtaining information (meta-data) about the document <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/GetDocument.html>`__                  |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/eds/chain``               | `Obtaining a chain of documents <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/EdsChain.html>`__                                           |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/eds/doc/body``            | `Receiving document content <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/DocBody.html>`__                                                |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/eds/doc/xml``             | `Receiving XML document content <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/GetXML.html>`__                                             |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/eds/doc/download``        | `Download the document body / sign <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/DownloadDocument.html>`__                                |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/eds/doc/condra/body``     | `Download «Unstructured (Universal) Document» (CONDRA) as an archive <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/GetCondraFile.html>`__ |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| PATCH      | ``/api/eds/doc/condra/send``     | `Send «Unstructured (Universal) Document» (CONDRA) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/SendCondraDocument.html>`__              |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST       | ``/api/eds/doc/statuses``        | `Sending document status <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/PostDocStatuses.html>`__                                           |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/eds/doc/statuses``        | `Obtaining document status <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/GetDocStatuses.html>`__                                          |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST       | ``/api/eds/doc/body``            | `Add an attachment (for CONDRA) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/AddDocumentBody.html>`__                                    |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST       | ``/api/eds/doc``                 | `Create a draft document (for CONDRA) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/CreateDocument.html>`__                               |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/office/uuid``             | `Getting the UUID (for CONDRA) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/GetOfficeUuid.html>`__                                       |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST       | ``/api/eds/doc/body``            | `File signing (for CONDRA) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/SignCondraBody.html>`__                                          |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+
| PUT        | ``/api/eds/doc/extra_fields``    | `Indexes filling (adding / updating extra parameter fields) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/UpdateExtraFields.html>`__      |
+------------+----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------+

Work with tickets
============================

+------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Method** |            **URL query**             |                                                                                  **Description**                                                                                  |
+============+======================================+===================================================================================================================================================================================+
| GET        | ``/api/eds/doc/signers``             | `Obtaining information about subscribers <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/GetSignersInfo.html>`__                                                    |
+------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/eds/doc/ticket/body``         | `Receive ticket data / content <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/GetTicketBody.html>`__                                                               |
+------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/v2/eds/comdoc/repeal``        | `Creating a "Cancellation" ticket on the Server (COMDOC_019) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/GetRepealTicketBody.html>`__                           |
+------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GET        | ``/api/v2/eds/comdoc/reject``        | `Creating a "Notice of refusal to sign the document" ticket on the server (COMDOC_021) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/GetRejectTicketBody.html>`__ |
+------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST       | ``/api/v2/eds/doc/ticket``           | `Creating a ticket №1 (draft signature) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/CreateTicketV2.html>`__                                                     |
+------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST       | ``/api/v2/eds/comdoc/accept``        | `Creating a ticket №2 (COMDOC acceptance) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/ComdocAccept.html>`__                                                     |
+------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST       | ``/api/v2/eds/comdoc/repeal``        | `Creating a ticket №11 (COMDOC repeal request) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/RepealRequest.html>`__                                               |
+------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST       | ``/api/v2/eds/comdoc/repeal/accept`` | `Creating a ticket №12 (acceptance of the COMDOC repeal request) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/RepealAccept.html>`__                              |
+------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST       | ``/api/v2/eds/comdoc/reject``        | `Creating a ticket №13 (COMDOC rejection) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/ComdocReject.html>`__                                                     |
+------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| POST       | ``/api/v2/eds/comdoc/revoke``        | `Creating a ticket №14 (revoke COMDOC signing) <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/ComdocRevoke.html>`__                                                |
+------------+--------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Work in a personal account
===================================

+------------+--------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| **Method** |            **URL query**             |                                                                  **Description**                                                                   |
+============+======================================+====================================================================================================================================================+
| GET        | ``/api/oas/personal/tariff/balance`` | `Obtaining data on the balance, tariffs, transaction history <https://wiki.edin.ua/en/latest/integration_2_0/APIv2/Methods/GetBalanceData.html>`__ |
+------------+--------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
